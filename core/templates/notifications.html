{% extends 'base.html' %}

{% block title %}مرکز اعلان‌ها{% endblock %}

{% block content %}
<div class="container-fluid">
    <h1 class="h3 mb-4 text-gray-800">مرکز اعلان‌ها</h1>

    <div class="row">
        <!-- اعلان محصولات تمام شده -->
        <div class="col-lg-12">
            <div class="card shadow mb-4">
                <div class="card-header bg-danger text-white">
                    <h6 class="m-0 font-weight-bold">هشدار: محصولات تمام شده</h6>
                </div>
                <div class="list-group list-group-flush">
                    {% for product in out_of_stock_products %}
                        <a href="{% url 'core:product_detail' product.pk %}" class="list-group-item list-group-item-action d-flex justify-content-between align-items-center">
                            {{ product.name }}
                            <span class="badge badge-danger badge-pill">موجودی: ۰</span>
                        </a>
                    {% empty %}
                        <div class="list-group-item">موردی برای نمایش وجود ندارد.</div>
                    {% endfor %}
                </div>
            </div>
        </div>

        <!-- اعلان محصولات با موجودی کم -->
        <div class="col-lg-12">
            <div class="card shadow mb-4">
                <div class="card-header bg-warning text-white">
                    <h6 class="m-0 font-weight-bold">توجه: محصولات با موجودی کم (کمتر از ۱۰ عدد)</h6>
                </div>
                <div class="list-group list-group-flush">
                    {% for product in low_stock_products %}
                        <a href="{% url 'core:product_detail' product.pk %}" class="list-group-item list-group-item-action d-flex justify-content-between align-items-center">
                            {{ product.name }}
                            <span class="badge badge-warning badge-pill">موجودی: {{ product.stock }}</span>
                        </a>
                    {% empty %}
                        <div class="list-group-item">موردی برای نمایش وجود ندارد.</div>
                    {% endfor %}
                </div>
            </div>
        </div>

        <!-- اعلان محصولات نیازمند توجه -->
        <div class="col-lg-12">
            <div class="card shadow mb-4">
                <div class="card-header bg-info text-white">
                    <h6 class="m-0 font-weight-bold">پیشنهاد: محصولات نیازمند توجه (بازدید بالا، بدون افزودن به سبد خرید)</h6>
                </div>
                <div class="list-group list-group-flush">
                    {% for product in attention_products %}
                        <a href="{% url 'core:product_detail' product.pk %}" class="list-group-item list-group-item-action d-flex justify-content-between align-items-center">
                            {{ product.name }}
                            <div>
                                <span class="badge badge-info badge-pill ml-2">بازدید: {{ product.views_count }}</span>
                                <span class="badge badge-secondary badge-pill">سبد خرید: {{ product.carts_count }}</span>
                            </div>
                        </a>
                    {% empty %}
                        <div class="list-group-item">موردی برای نمایش وجود ندارد.</div>
                    {% endfor %}
                </div>
            </div>
        </div>
    </div>
</div>
{% endblock %}